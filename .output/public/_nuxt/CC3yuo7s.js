import B from"./v8NAOndT.js";import{_ as ke,y as Z,r as C,c as a,b as r,a as e,h as m,w as q,d as k,e as T,k as v,v as E,t as p,o as F,z as R,F as D,l as I,A as G,B as z,C as _e,D as S,i as ee,E as ne,G as ie,H as Ze,f as Ge,I as X,J as Xe,K as We,T as Je,L as Ke,M as Qe,N as Ye,O as et,p as tt,P as st,m as te}from"./B932YNoQ.js";const rt={class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm"},ot={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-lg mx-4"},at={class:"flex justify-between items-center pb-3 border-b dark:border-gray-700"},nt={key:0,class:"text-red-500 text-sm"},it={class:"pt-4 flex justify-end space-x-3"},lt=["disabled"],dt=["disabled"],ct={key:0},ut={key:1},mt={__name:"createBranchModal",emits:["close","branchCreated"],setup(t,{emit:n}){const f=n,o=Z({name:"",location:"",description:""}),x=C(!1),c=C(""),_=()=>{x.value||f("close")},b=async()=>{if(!o.name){c.value="El nombre de la sucursal es obligatorio.";return}x.value=!0,c.value="";try{const y={name:o.name,location:o.location,description:o.description},l=await $fetch("/api/post/branch",{method:"POST",body:y});f("branchCreated",l.branch),_()}catch(y){console.error("Error al crear sucursal:",y),y.data&&y.data.message?c.value=y.data.message:c.value="Ocurrió un error inesperado al crear la sucursal."}finally{x.value=!1}};return(y,l)=>{const g=B;return r(),a("div",rt,[e("div",ot,[e("div",at,[l[3]||(l[3]=e("h2",{class:"text-xl font-semibold text-gray-700 dark:text-gray-200"},"Crear Nueva Sucursal",-1)),e("button",{onClick:_,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[m(g,{name:"material-symbols:close-rounded",class:"w-6 h-6"})])]),e("form",{onSubmit:q(b,["prevent"]),class:"mt-4 space-y-4"},[e("div",null,[l[4]||(l[4]=e("label",{for:"branchName",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[v("Nombre de la Sucursal "),e("span",{class:"text-red-500"},"*")],-1)),T(e("input",{type:"text",id:"branchName","onUpdate:modelValue":l[0]||(l[0]=d=>o.name=d),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200",placeholder:"Ej: Sucursal Principal"},null,512),[[E,o.name]])]),e("div",null,[l[5]||(l[5]=e("label",{for:"branchLocation",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Ubicación (Opcional)",-1)),T(e("input",{type:"text",id:"branchLocation","onUpdate:modelValue":l[1]||(l[1]=d=>o.location=d),class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200",placeholder:"Ej: Calle Falsa 123, Ciudad"},null,512),[[E,o.location]])]),e("div",null,[l[6]||(l[6]=e("label",{for:"branchDescription",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Descripción (Opcional)",-1)),T(e("textarea",{id:"branchDescription","onUpdate:modelValue":l[2]||(l[2]=d=>o.description=d),rows:"3",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200",placeholder:"Información adicional sobre la sucursal"},null,512),[[E,o.description]])]),c.value?(r(),a("div",nt,p(c.value),1)):k("",!0),e("div",it,[e("button",{type:"button",onClick:_,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-offset-gray-800",disabled:x.value}," Cancelar ",8,lt),e("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",disabled:x.value||!o.name},[x.value?(r(),a("span",ct,"Creando...")):(r(),a("span",ut,"Crear Sucursal"))],8,dt)])],32)])])}}},gt=ke(mt,[["__scopeId","data-v-e1d7ddec"]]),pt={class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm"},ft={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-lg mx-4"},bt={class:"flex justify-between items-center pb-3 border-b dark:border-gray-700"},yt={key:0,class:"text-red-500 text-sm"},vt={class:"pt-4 flex justify-end space-x-3"},xt=["disabled"],ht=["disabled"],kt={key:0},_t={key:1},wt={__name:"createCameraTypeModal",emits:["close","cameraTypeCreated"],setup(t,{emit:n}){const f=n,o=Z({name:"",camera_type_description:""}),x=C(!1),c=C(""),_=()=>{x.value||f("close")},b=async()=>{if(!o.name){c.value="El nombre del tipo de cámara es obligatorio.";return}x.value=!0,c.value="";try{const y=await $fetch("/api/post/camera_type",{method:"POST",body:{name:o.name,camera_type_description:o.camera_type_description}});f("cameraTypeCreated",y.cameraType),_()}catch(y){console.error("Error al crear tipo de cámara:",y),y.data&&y.data.message?c.value=y.data.message:c.value="Ocurrió un error inesperado."}finally{x.value=!1}};return(y,l)=>{const g=B;return r(),a("div",pt,[e("div",ft,[e("div",bt,[l[2]||(l[2]=e("h2",{class:"text-xl font-semibold text-gray-700 dark:text-gray-200"},"Crear Nuevo Tipo de Cámara",-1)),e("button",{onClick:_,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[m(g,{name:"material-symbols:close-rounded",class:"w-6 h-6"})])]),e("form",{onSubmit:q(b,["prevent"]),class:"mt-4 space-y-4"},[e("div",null,[l[3]||(l[3]=e("label",{for:"cameraTypeName",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[v("Nombre del Tipo de Cámara "),e("span",{class:"text-red-500"},"*")],-1)),T(e("input",{type:"text",id:"cameraTypeName","onUpdate:modelValue":l[0]||(l[0]=d=>o.name=d),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200",placeholder:"Ej: Domo PTZ"},null,512),[[E,o.name]])]),e("div",null,[l[4]||(l[4]=e("label",{for:"cameraTypeDescription",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Descripción (Opcional)",-1)),T(e("textarea",{id:"cameraTypeDescription","onUpdate:modelValue":l[1]||(l[1]=d=>o.camera_type_description=d),rows:"3",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200",placeholder:"Características principales del tipo de cámara"},null,512),[[E,o.camera_type_description]])]),c.value?(r(),a("div",yt,p(c.value),1)):k("",!0),e("div",vt,[e("button",{type:"button",onClick:_,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-offset-gray-800",disabled:x.value}," Cancelar ",8,xt),e("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",disabled:x.value||!o.name},[x.value?(r(),a("span",kt,"Creando...")):(r(),a("span",_t,"Crear Tipo de Cámara"))],8,ht)])],32)])])}}},Ct={class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm"},$t={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-lg mx-4"},Tt={class:"flex justify-between items-center pb-3 border-b dark:border-gray-700"},Et={key:0,class:"text-red-500 text-sm"},St={class:"pt-4 flex justify-end space-x-3"},Dt=["disabled"],It=["disabled"],Ot={key:0},zt={key:1},Nt={__name:"createSensorTypeModal",emits:["close","sensorTypeCreated"],setup(t,{emit:n}){const f=n,o=Z({name:"",sensor_type_description:""}),x=C(!1),c=C(""),_=()=>{x.value||f("close")},b=async()=>{if(!o.name){c.value="El nombre del tipo de sensor es obligatorio.";return}x.value=!0,c.value="";try{const y=await $fetch("/api/post/sensor_type",{method:"POST",body:{name:o.name,sensor_type_description:o.sensor_type_description}});f("sensorTypeCreated",y.sensorType),_()}catch(y){console.error("Error al crear tipo de sensor:",y),y.data&&y.data.message?c.value=y.data.message:c.value="Ocurrió un error inesperado."}finally{x.value=!1}};return(y,l)=>{const g=B;return r(),a("div",Ct,[e("div",$t,[e("div",Tt,[l[2]||(l[2]=e("h2",{class:"text-xl font-semibold text-gray-700 dark:text-gray-200"},"Crear Nuevo Tipo de Sensor",-1)),e("button",{onClick:_,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[m(g,{name:"material-symbols:close-rounded",class:"w-6 h-6"})])]),e("form",{onSubmit:q(b,["prevent"]),class:"mt-4 space-y-4"},[e("div",null,[l[3]||(l[3]=e("label",{for:"sensorTypeName",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[v("Nombre del Tipo de Sensor "),e("span",{class:"text-red-500"},"*")],-1)),T(e("input",{type:"text",id:"sensorTypeName","onUpdate:modelValue":l[0]||(l[0]=d=>o.name=d),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200",placeholder:"Ej: Temperatura"},null,512),[[E,o.name]])]),e("div",null,[l[4]||(l[4]=e("label",{for:"sensorTypeDescription",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Descripción (Opcional)",-1)),T(e("textarea",{id:"sensorTypeDescription","onUpdate:modelValue":l[1]||(l[1]=d=>o.sensor_type_description=d),rows:"3",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200",placeholder:"Detalles del tipo de sensor"},null,512),[[E,o.sensor_type_description]])]),c.value?(r(),a("div",Et,p(c.value),1)):k("",!0),e("div",St,[e("button",{type:"button",onClick:_,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-offset-gray-800",disabled:x.value}," Cancelar ",8,Dt),e("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",disabled:x.value||!o.name},[x.value?(r(),a("span",Ot,"Creando...")):(r(),a("span",zt,"Crear Tipo de Sensor"))],8,It)])],32)])])}}},Pt={class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm"},jt={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-lg mx-4"},Mt={class:"flex justify-between items-center pb-3 border-b dark:border-gray-700"},Bt=["value"],At={key:0,class:"text-sm text-red-500 mt-1"},Vt=["value"],Rt={key:0,class:"text-sm text-red-500 mt-1"},Ut={key:0,class:"text-red-500 text-sm"},Lt={class:"pt-4 flex justify-end space-x-3"},qt=["disabled"],Ft=["disabled"],Ht={key:0},Zt={key:1},Gt={__name:"createZoneModal",emits:["close","zoneCreated"],setup(t,{emit:n}){const f=n,o=Z({name:"",branch_id:"",zone_description:"",zone_manager:"",zone_direction:""}),x=C([]),c=C(""),_=C([]),b=C(""),y=C(!1),l=C(""),g=()=>{y.value||f("close")},d=async()=>{c.value="";try{const u=await $fetch("/api/get/branch",{method:"GET"});u.success&&u.branches?x.value=u.branches:c.value="No se pudieron cargar las sucursales."}catch(u){console.error("Error fetching branches for modal:",u),c.value="Error al cargar sucursales. Intente de nuevo."}},s=async()=>{b.value="";try{const u=await $fetch("/api/get/user",{method:"GET"});u.success&&u.users?_.value=u.users:b.value="No se pudieron cargar los usuarios."}catch(u){console.error("Error fetching users for modal:",u),b.value="Error al cargar usuarios. Intente de nuevo."}};F(()=>{d(),s()});const h=async()=>{if(!o.name||!o.branch_id||!o.zone_manager){l.value="Nombre de zona, sucursal y encargado son obligatorios.";return}y.value=!0,l.value="";const u={...o};try{const i=await $fetch("/api/post/zone",{method:"POST",body:u});f("zoneCreated",i.zone),g()}catch(i){console.error("Error al crear zona:",i),i.data&&i.data.message?l.value=i.data.message:l.value="Ocurrió un error inesperado."}finally{y.value=!1}};return(u,i)=>{const N=B;return r(),a("div",Pt,[e("div",jt,[e("div",Mt,[i[5]||(i[5]=e("h2",{class:"text-xl font-semibold text-gray-700 dark:text-gray-200"}," Crear Nueva Zona ",-1)),e("button",{class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",onClick:g},[m(N,{name:"material-symbols:close-rounded",class:"w-6 h-6"})])]),e("form",{class:"mt-4 space-y-4",onSubmit:q(h,["prevent"])},[e("div",null,[i[6]||(i[6]=e("label",{for:"zoneName",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[v("Nombre de la Zona "),e("span",{class:"text-red-500"},"*")],-1)),T(e("input",{id:"zoneName","onUpdate:modelValue":i[0]||(i[0]=w=>o.name=w),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200",placeholder:"Ej: Zona de Procesamiento"},null,512),[[E,o.name]])]),e("div",null,[i[8]||(i[8]=e("label",{for:"branchId",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[v("Sucursal Asociada "),e("span",{class:"text-red-500"},"*")],-1)),T(e("select",{id:"branchId","onUpdate:modelValue":i[1]||(i[1]=w=>o.branch_id=w),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200"},[i[7]||(i[7]=e("option",{value:"",disabled:""},"Seleccione una sucursal",-1)),(r(!0),a(D,null,I(x.value,w=>(r(),a("option",{key:w._id,value:w._id},p(w.name),9,Bt))),128))],512),[[R,o.branch_id]]),c.value?(r(),a("p",At,p(c.value),1)):k("",!0)]),e("div",null,[i[10]||(i[10]=e("label",{for:"zoneManager",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[v("Encargado de Zona "),e("span",{class:"text-red-500"},"*")],-1)),T(e("select",{id:"zoneManager","onUpdate:modelValue":i[2]||(i[2]=w=>o.zone_manager=w),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200"},[i[9]||(i[9]=e("option",{value:"",disabled:""},"Seleccione un encargado",-1)),(r(!0),a(D,null,I(_.value,w=>(r(),a("option",{key:w._id,value:w._id},p(w.name),9,Vt))),128))],512),[[R,o.zone_manager]]),b.value?(r(),a("p",Rt,p(b.value),1)):k("",!0)]),e("div",null,[i[11]||(i[11]=e("label",{for:"zoneDescription",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Descripción (Opcional)",-1)),T(e("textarea",{id:"zoneDescription","onUpdate:modelValue":i[3]||(i[3]=w=>o.zone_description=w),rows:"2",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200",placeholder:"Propósito o detalles de la zona"},null,512),[[E,o.zone_description]])]),e("div",null,[i[12]||(i[12]=e("label",{for:"zoneDirection",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Dirección/Ubicación Específica (Opcional)",-1)),T(e("input",{id:"zoneDirection","onUpdate:modelValue":i[4]||(i[4]=w=>o.zone_direction=w),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200",placeholder:"Ej: Edificio B, Nivel 3"},null,512),[[E,o.zone_direction]])]),l.value?(r(),a("div",Ut,p(l.value),1)):k("",!0),e("div",Lt,[e("button",{type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-offset-gray-800",disabled:y.value,onClick:g}," Cancelar ",8,qt),e("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",disabled:y.value||!o.name||!o.branch_id||!o.zone_manager},[y.value?(r(),a("span",Ht,"Creando...")):(r(),a("span",Zt,"Crear Zona"))],8,Ft)])],32)])])}}},Xt={class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm"},Wt={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-lg mx-4"},Jt={class:"flex justify-between items-center pb-3 border-b dark:border-gray-700"},Kt=["value"],Qt={key:0,class:"text-sm text-red-500 mt-1"},Yt=["value"],es={key:0,class:"text-sm text-red-500 mt-1"},ts={key:0,class:"text-red-500 text-sm"},ss={class:"pt-4 flex justify-end space-x-3"},rs=["disabled"],os=["disabled"],as={key:0},ns={key:1},is={__name:"createCameraModal",emits:["close","cameraCreated"],setup(t,{emit:n}){const f=n,o=Z({name:"",camera_IP:"",camera_type:"",zone_id:""}),x=C([]),c=C(""),_=C([]),b=C(""),y=C(!1),l=C(""),g=()=>{y.value||f("close")},d=async()=>{c.value="";try{const u=await $fetch("/api/get/camera_type",{method:"GET"});u.success&&u.cameraTypes?x.value=u.cameraTypes:c.value="No se pudieron cargar los tipos de cámara."}catch(u){console.error("Error fetching camera types for modal:",u),c.value="Error al cargar tipos de cámara. Intente de nuevo."}},s=async()=>{b.value="";try{const u=await $fetch("/api/get/zone",{method:"GET"});u.success&&u.zones?_.value=u.zones:b.value="No se pudieron cargar las zonas."}catch(u){console.error("Error fetching zones for modal:",u),b.value="Error al cargar zonas. Intente de nuevo."}};F(()=>{d(),s()});const h=async()=>{if(!o.name||!o.camera_IP||!o.camera_type||!o.zone_id){l.value="Todos los campos son obligatorios.";return}y.value=!0,l.value="";const u={...o};try{const i=await $fetch("/api/post/camera",{method:"POST",body:u});f("cameraCreated",i.camera),g()}catch(i){console.error("Error al registrar cámara:",i),i.data&&i.data.message?l.value=i.data.message:l.value="Ocurrió un error inesperado."}finally{y.value=!1}};return(u,i)=>{const N=B;return r(),a("div",Xt,[e("div",Wt,[e("div",Jt,[i[4]||(i[4]=e("h2",{class:"text-xl font-semibold text-gray-700 dark:text-gray-200"},"Registrar Nueva Cámara",-1)),e("button",{onClick:g,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[m(N,{name:"material-symbols:close-rounded",class:"w-6 h-6"})])]),e("form",{onSubmit:q(h,["prevent"]),class:"mt-4 space-y-4"},[e("div",null,[i[5]||(i[5]=e("label",{for:"cameraName",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[v("Nombre de la Cámara "),e("span",{class:"text-red-500"},"*")],-1)),T(e("input",{type:"text",id:"cameraName","onUpdate:modelValue":i[0]||(i[0]=w=>o.name=w),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200",placeholder:"Ej: Cámara Entrada Principal"},null,512),[[E,o.name]])]),e("div",null,[i[6]||(i[6]=e("label",{for:"cameraIP",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[v("Dirección IP de la Cámara "),e("span",{class:"text-red-500"},"*")],-1)),T(e("input",{type:"text",id:"cameraIP","onUpdate:modelValue":i[1]||(i[1]=w=>o.camera_IP=w),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200",placeholder:"Ej: 192.168.1.100"},null,512),[[E,o.camera_IP]])]),e("div",null,[i[8]||(i[8]=e("label",{for:"cameraType",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[v("Tipo de Cámara "),e("span",{class:"text-red-500"},"*")],-1)),T(e("select",{id:"cameraType","onUpdate:modelValue":i[2]||(i[2]=w=>o.camera_type=w),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200"},[i[7]||(i[7]=e("option",{value:"",disabled:""},"Seleccione un tipo de cámara",-1)),(r(!0),a(D,null,I(x.value,w=>(r(),a("option",{key:w._id,value:w._id},p(w.name),9,Kt))),128))],512),[[R,o.camera_type]]),c.value?(r(),a("p",Qt,p(c.value),1)):k("",!0)]),e("div",null,[i[10]||(i[10]=e("label",{for:"zoneId",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[v("Zona Asociada "),e("span",{class:"text-red-500"},"*")],-1)),T(e("select",{id:"zoneId","onUpdate:modelValue":i[3]||(i[3]=w=>o.zone_id=w),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200"},[i[9]||(i[9]=e("option",{value:"",disabled:""},"Seleccione una zona",-1)),(r(!0),a(D,null,I(_.value,w=>(r(),a("option",{key:w._id,value:w._id},p(w.name),9,Yt))),128))],512),[[R,o.zone_id]]),b.value?(r(),a("p",es,p(b.value),1)):k("",!0)]),l.value?(r(),a("div",ts,p(l.value),1)):k("",!0),e("div",ss,[e("button",{type:"button",onClick:g,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-offset-gray-800",disabled:y.value}," Cancelar ",8,rs),e("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",disabled:y.value||!o.name||!o.camera_IP||!o.camera_type||!o.zone_id},[y.value?(r(),a("span",as,"Registrando...")):(r(),a("span",ns,"Registrar Cámara"))],8,os)])],32)])])}}},ls={class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm"},ds={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-lg mx-4"},cs={class:"flex justify-between items-center pb-3 border-b dark:border-gray-700"},us=["value"],ms={key:0,class:"text-sm text-red-500 mt-1"},gs=["value"],ps={key:0,class:"text-sm text-red-500 mt-1"},fs={key:0,class:"text-red-500 text-sm"},bs={class:"pt-4 flex justify-end space-x-3"},ys=["disabled"],vs=["disabled"],xs={key:0},hs={key:1},ks={__name:"createSensorModal",emits:["close","sensorCreated"],setup(t,{emit:n}){const f=n,o=Z({name:"",sensor_IP:"",sensor_type:"",zone_id:""}),x=C([]),c=C(""),_=C([]),b=C(""),y=C(!1),l=C(""),g=()=>{y.value||f("close")},d=async()=>{c.value="";try{const u=await $fetch("/api/get/sensor_type",{method:"GET"});u.success&&u.sensorTypes?x.value=u.sensorTypes:c.value="No se pudieron cargar los tipos de sensor."}catch(u){console.error("Error fetching sensor types for modal:",u),c.value="Error al cargar tipos de sensor. Intente de nuevo."}},s=async()=>{b.value="";try{const u=await $fetch("/api/get/zone",{method:"GET"});u.success&&u.zones?_.value=u.zones:b.value="No se pudieron cargar las zonas."}catch(u){console.error("Error fetching zones for modal:",u),b.value="Error al cargar zonas. Intente de nuevo."}};F(()=>{d(),s()});const h=async()=>{if(!o.name||!o.sensor_IP||!o.sensor_type||!o.zone_id){l.value="Todos los campos son obligatorios.";return}y.value=!0,l.value="";const u={...o};try{const i=await $fetch("/api/post/sensor",{method:"POST",body:u});f("sensorCreated",i.sensor),g()}catch(i){console.error("Error al registrar sensor:",i),i.data&&i.data.message?l.value=i.data.message:l.value="Ocurrió un error inesperado."}finally{y.value=!1}};return(u,i)=>{const N=B;return r(),a("div",ls,[e("div",ds,[e("div",cs,[i[4]||(i[4]=e("h2",{class:"text-xl font-semibold text-gray-700 dark:text-gray-200"},"Registrar Nuevo Sensor",-1)),e("button",{onClick:g,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[m(N,{name:"material-symbols:close-rounded",class:"w-6 h-6"})])]),e("form",{onSubmit:q(h,["prevent"]),class:"mt-4 space-y-4"},[e("div",null,[i[5]||(i[5]=e("label",{for:"sensorName",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[v("Nombre del Sensor "),e("span",{class:"text-red-500"},"*")],-1)),T(e("input",{type:"text",id:"sensorName","onUpdate:modelValue":i[0]||(i[0]=w=>o.name=w),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200",placeholder:"Ej: Sensor Temperatura Pileta 1"},null,512),[[E,o.name]])]),e("div",null,[i[6]||(i[6]=e("label",{for:"sensorIP",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[v("Dirección IP del Sensor "),e("span",{class:"text-red-500"},"*")],-1)),T(e("input",{type:"text",id:"sensorIP","onUpdate:modelValue":i[1]||(i[1]=w=>o.sensor_IP=w),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200",placeholder:"Ej: 192.168.1.101"},null,512),[[E,o.sensor_IP]])]),e("div",null,[i[8]||(i[8]=e("label",{for:"sensorType",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[v("Tipo de Sensor "),e("span",{class:"text-red-500"},"*")],-1)),T(e("select",{id:"sensorType","onUpdate:modelValue":i[2]||(i[2]=w=>o.sensor_type=w),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200"},[i[7]||(i[7]=e("option",{value:"",disabled:""},"Seleccione un tipo de sensor",-1)),(r(!0),a(D,null,I(x.value,w=>(r(),a("option",{key:w._id,value:w._id},p(w.name),9,us))),128))],512),[[R,o.sensor_type]]),c.value?(r(),a("p",ms,p(c.value),1)):k("",!0)]),e("div",null,[i[10]||(i[10]=e("label",{for:"zoneId",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[v("Zona Asociada "),e("span",{class:"text-red-500"},"*")],-1)),T(e("select",{id:"zoneId","onUpdate:modelValue":i[3]||(i[3]=w=>o.zone_id=w),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:text-gray-200"},[i[9]||(i[9]=e("option",{value:"",disabled:""},"Seleccione una zona",-1)),(r(!0),a(D,null,I(_.value,w=>(r(),a("option",{key:w._id,value:w._id},p(w.name),9,gs))),128))],512),[[R,o.zone_id]]),b.value?(r(),a("p",ps,p(b.value),1)):k("",!0)]),l.value?(r(),a("div",fs,p(l.value),1)):k("",!0),e("div",bs,[e("button",{type:"button",onClick:g,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-offset-gray-800",disabled:y.value}," Cancelar ",8,ys),e("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",disabled:y.value||!o.name||!o.sensor_IP||!o.sensor_type||!o.zone_id},[y.value?(r(),a("span",xs,"Registrando...")):(r(),a("span",hs,"Registrar Sensor"))],8,vs)])],32)])])}}};var _s=Object.defineProperty,fe=Object.getOwnPropertySymbols,ws=Object.prototype.hasOwnProperty,Cs=Object.prototype.propertyIsEnumerable,be=(t,n,f)=>n in t?_s(t,n,{enumerable:!0,configurable:!0,writable:!0,value:f}):t[n]=f,$s=(t,n)=>{for(var f in n||(n={}))ws.call(n,f)&&be(t,f,n[f]);if(fe)for(var f of fe(n))Cs.call(n,f)&&be(t,f,n[f]);return t},se=t=>typeof t=="function",re=t=>typeof t=="string",we=t=>re(t)&&t.trim().length>0,Ts=t=>typeof t=="number",H=t=>typeof t>"u",W=t=>typeof t=="object"&&t!==null,Es=t=>U(t,"tag")&&we(t.tag),Ce=t=>window.TouchEvent&&t instanceof TouchEvent,$e=t=>U(t,"component")&&Te(t.component),Ss=t=>se(t)||W(t),Te=t=>!H(t)&&(re(t)||Ss(t)||$e(t)),ye=t=>W(t)&&["height","width","right","left","top","bottom"].every(n=>Ts(t[n])),U=(t,n)=>(W(t)||se(t))&&n in t,Ds=(t=>()=>t++)(0);function oe(t){return Ce(t)?t.targetTouches[0].clientX:t.clientX}function ve(t){return Ce(t)?t.targetTouches[0].clientY:t.clientY}var Is=t=>{H(t.remove)?t.parentNode&&t.parentNode.removeChild(t):t.remove()},J=t=>$e(t)?J(t.component):Es(t)?G({render(){return t}}):typeof t=="string"?t:Ze(Ge(t)),Os=t=>{if(typeof t=="string")return t;const n=U(t,"props")&&W(t.props)?t.props:{},f=U(t,"listeners")&&W(t.listeners)?t.listeners:{};return{component:J(t),props:n,listeners:f}},zs=()=>typeof window<"u",le=class{constructor(){this.allHandlers={}}getHandlers(t){return this.allHandlers[t]||[]}on(t,n){const f=this.getHandlers(t);f.push(n),this.allHandlers[t]=f}off(t,n){const f=this.getHandlers(t);f.splice(f.indexOf(n)>>>0,1)}emit(t,n){this.getHandlers(t).forEach(o=>o(n))}},Ns=t=>["on","off","emit"].every(n=>U(t,n)&&se(t[n])),j;(function(t){t.SUCCESS="success",t.ERROR="error",t.WARNING="warning",t.INFO="info",t.DEFAULT="default"})(j||(j={}));var Y;(function(t){t.TOP_LEFT="top-left",t.TOP_CENTER="top-center",t.TOP_RIGHT="top-right",t.BOTTOM_LEFT="bottom-left",t.BOTTOM_CENTER="bottom-center",t.BOTTOM_RIGHT="bottom-right"})(Y||(Y={}));var M;(function(t){t.ADD="add",t.DISMISS="dismiss",t.UPDATE="update",t.CLEAR="clear",t.UPDATE_DEFAULTS="update_defaults"})(M||(M={}));var V="Vue-Toastification",A={type:{type:String,default:j.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},Ee={type:A.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},Q={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:A.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},ae={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},Se={transition:{type:[Object,String],default:`${V}__bounce`}},Ps={position:{type:String,default:Y.TOP_RIGHT},draggable:A.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:A.trueBoolean,pauseOnHover:A.trueBoolean,closeOnClick:A.trueBoolean,timeout:ae.timeout,hideProgressBar:ae.hideProgressBar,toastClassName:A.classNames,bodyClassName:A.classNames,icon:Ee.customIcon,closeButton:Q.component,closeButtonClassName:Q.classNames,showCloseButtonOnHover:Q.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new le}},js={id:{type:[String,Number],required:!0,default:0},type:A.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},Ms={container:{type:[Object,Function],default:()=>document.body},newestOnTop:A.trueBoolean,maxToasts:{type:Number,default:20},transition:Se.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:t=>t},filterToasts:{type:Function,default:t=>t},containerClassName:A.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},L={CORE_TOAST:Ps,TOAST:js,CONTAINER:Ms,PROGRESS_BAR:ae,ICON:Ee,TRANSITION:Se,CLOSE_BUTTON:Q},De=G({name:"VtProgressBar",props:L.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${V}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function Bs(t,n){return r(),a("div",{style:_e(t.style),class:z(t.cpClass)},null,6)}De.render=Bs;var As=De,Ie=G({name:"VtCloseButton",props:L.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?J(this.component):"button"},classes(){const t=[`${V}__close-button`];return this.showOnHover&&t.push("show-on-hover"),t.concat(this.classNames)}}}),Vs=v(" × ");function Rs(t,n){return r(),S(ie(t.buttonComponent),ne({"aria-label":t.ariaLabel,class:t.classes},t.$attrs),{default:ee(()=>[Vs]),_:1},16,["aria-label","class"])}Ie.render=Rs;var Us=Ie,Oe={},Ls={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},qs=e("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),Fs=[qs];function Hs(t,n){return r(),a("svg",Ls,Fs)}Oe.render=Hs;var Zs=Oe,ze={},Gs={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Xs=e("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),Ws=[Xs];function Js(t,n){return r(),a("svg",Gs,Ws)}ze.render=Js;var xe=ze,Ne={},Ks={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Qs=e("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),Ys=[Qs];function er(t,n){return r(),a("svg",Ks,Ys)}Ne.render=er;var tr=Ne,Pe={},sr={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},rr=e("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),or=[rr];function ar(t,n){return r(),a("svg",sr,or)}Pe.render=ar;var nr=Pe,je=G({name:"VtIcon",props:L.ICON,computed:{customIconChildren(){return U(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return re(this.customIcon)?this.trimValue(this.customIcon):U(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return U(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:Te(this.customIcon)?J(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[j.DEFAULT]:xe,[j.INFO]:xe,[j.SUCCESS]:Zs,[j.ERROR]:nr,[j.WARNING]:tr}[this.type]},iconClasses(){const t=[`${V}__icon`];return this.hasCustomIcon?t.concat(this.customIconClass):t}},methods:{trimValue(t,n=""){return we(t)?t.trim():n}}});function ir(t,n){return r(),S(ie(t.component),{class:z(t.iconClasses)},{default:ee(()=>[v(p(t.customIconChildren),1)]),_:1},8,["class"])}je.render=ir;var lr=je,Me=G({name:"VtToast",components:{ProgressBar:As,CloseButton:Us,Icon:lr},inheritAttrs:!1,props:Object.assign({},L.CORE_TOAST,L.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const t=[`${V}__toast`,`${V}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&t.push("disable-transition"),this.rtl&&t.push(`${V}__toast--rtl`),t},bodyClasses(){return[`${V}__toast-${re(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return ye(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:U,getVueComponentFromObj:J,closeToast(){this.eventBus.emit(M.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const t=this.$el;t.addEventListener("touchstart",this.onDragStart,{passive:!0}),t.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const t=this.$el;t.removeEventListener("touchstart",this.onDragStart),t.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(t){this.beingDragged=!0,this.dragPos={x:oe(t),y:ve(t)},this.dragStart=oe(t),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(t){this.beingDragged&&(t.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:oe(t),y:ve(t)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,ye(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),dr=["role"];function cr(t,n){const f=X("Icon"),o=X("CloseButton"),x=X("ProgressBar");return r(),a("div",{class:z(t.classes),style:_e(t.draggableStyle),onClick:n[0]||(n[0]=(...c)=>t.clickHandler&&t.clickHandler(...c)),onMouseenter:n[1]||(n[1]=(...c)=>t.hoverPause&&t.hoverPause(...c)),onMouseleave:n[2]||(n[2]=(...c)=>t.hoverPlay&&t.hoverPlay(...c))},[t.icon?(r(),S(f,{key:0,"custom-icon":t.icon,type:t.type},null,8,["custom-icon","type"])):k("v-if",!0),e("div",{role:t.accessibility.toastRole||"alert",class:z(t.bodyClasses)},[typeof t.content=="string"?(r(),a(D,{key:0},[v(p(t.content),1)],2112)):(r(),S(ie(t.getVueComponentFromObj(t.content)),ne({key:1,"toast-id":t.id},t.hasProp(t.content,"props")?t.content.props:{},Xe(t.hasProp(t.content,"listeners")?t.content.listeners:{}),{onCloseToast:t.closeToast}),null,16,["toast-id","onCloseToast"]))],10,dr),t.closeButton?(r(),S(o,{key:1,component:t.closeButton,"class-names":t.closeButtonClassName,"show-on-hover":t.showCloseButtonOnHover,"aria-label":t.accessibility.closeButtonLabel,onClick:q(t.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):k("v-if",!0),t.timeout?(r(),S(x,{key:2,"is-running":t.isRunning,"hide-progress-bar":t.hideProgressBar,timeout:t.timeout,onCloseToast:t.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):k("v-if",!0)],38)}Me.render=cr;var ur=Me,Be=G({name:"VtTransition",props:L.TRANSITION,emits:["leave"],methods:{hasProp:U,leave(t){t instanceof HTMLElement&&(t.style.left=t.offsetLeft+"px",t.style.top=t.offsetTop+"px",t.style.width=getComputedStyle(t).width,t.style.position="absolute")}}});function mr(t,n){return r(),S(Je,{tag:"div","enter-active-class":t.transition.enter?t.transition.enter:`${t.transition}-enter-active`,"move-class":t.transition.move?t.transition.move:`${t.transition}-move`,"leave-active-class":t.transition.leave?t.transition.leave:`${t.transition}-leave-active`,onLeave:t.leave},{default:ee(()=>[We(t.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}Be.render=mr;var gr=Be,Ae=G({name:"VueToastification",devtools:{hide:!0},components:{Toast:ur,VtTransition:gr},props:Object.assign({},L.CORE_TOAST,L.CONTAINER,L.TRANSITION),data(){return{count:0,positions:Object.values(Y),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const t=this.eventBus;t.on(M.ADD,this.addToast),t.on(M.CLEAR,this.clearToasts),t.on(M.DISMISS,this.dismissToast),t.on(M.UPDATE,this.updateToast),t.on(M.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(t){se(t)&&(t=await t()),Is(this.$el),t.appendChild(this.$el)},setToast(t){H(t.id)||(this.toasts[t.id]=t)},addToast(t){t.content=Os(t.content);const n=Object.assign({},this.defaults,t.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[t.type],t),f=this.defaults.filterBeforeCreate(n,this.toastArray);f&&this.setToast(f)},dismissToast(t){const n=this.toasts[t];!H(n)&&!H(n.onClose)&&n.onClose(),delete this.toasts[t]},clearToasts(){Object.keys(this.toasts).forEach(t=>{this.dismissToast(t)})},getPositionToasts(t){const n=this.filteredToasts.filter(f=>f.position===t).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?n.reverse():n},updateDefaults(t){H(t.container)||this.setup(t.container),this.defaults=Object.assign({},this.defaults,t)},updateToast({id:t,options:n,create:f}){this.toasts[t]?(n.timeout&&n.timeout===this.toasts[t].timeout&&n.timeout++,this.setToast(Object.assign({},this.toasts[t],n))):f&&this.addToast(Object.assign({},{id:t},n))},getClasses(t){return[`${V}__container`,t].concat(this.defaults.containerClassName)}}});function pr(t,n){const f=X("Toast"),o=X("VtTransition");return r(),a("div",null,[(r(!0),a(D,null,I(t.positions,x=>(r(),a("div",{key:x},[m(o,{transition:t.defaults.transition,class:z(t.getClasses(x))},{default:ee(()=>[(r(!0),a(D,null,I(t.getPositionToasts(x),c=>(r(),S(f,ne({key:c.id},c),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}Ae.render=pr;var fr=Ae,he=(t={},n=!0)=>{const f=t.eventBus=t.eventBus||new le;n&&Ye(()=>{const c=et(fr,$s({},t)),_=c.mount(document.createElement("div")),b=t.onMounted;if(H(b)||b(_,c),t.shareAppContext){const y=t.shareAppContext;y===!0?console.warn(`[${V}] App to share context with was not provided.`):(c._context.components=y._context.components,c._context.directives=y._context.directives,c._context.mixins=y._context.mixins,c._context.provides=y._context.provides,c.config.globalProperties=y.config.globalProperties)}});const o=(c,_)=>{const b=Object.assign({},{id:Ds(),type:j.DEFAULT},_,{content:c});return f.emit(M.ADD,b),b.id};o.clear=()=>f.emit(M.CLEAR,void 0),o.updateDefaults=c=>{f.emit(M.UPDATE_DEFAULTS,c)},o.dismiss=c=>{f.emit(M.DISMISS,c)};function x(c,{content:_,options:b},y=!1){const l=Object.assign({},b,{content:_});f.emit(M.UPDATE,{id:c,options:l,create:y})}return o.update=x,o.success=(c,_)=>o(c,Object.assign({},_,{type:j.SUCCESS})),o.info=(c,_)=>o(c,Object.assign({},_,{type:j.INFO})),o.error=(c,_)=>o(c,Object.assign({},_,{type:j.ERROR})),o.warning=(c,_)=>o(c,Object.assign({},_,{type:j.WARNING})),o},br=()=>{const t=()=>console.warn(`[${V}] This plugin does not support SSR!`);return new Proxy(t,{get(){return t}})};function yr(t){return zs()?Ns(t)?he({eventBus:t},!1):he(t,!0):br()}var vr=Symbol("VueToastification"),xr=new le,hr=t=>{const n=Ke()?Qe(vr,void 0):void 0;return n||yr(xr)};const kr={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},_r={class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto"},wr={class:"flex justify-between items-center mb-4"},Cr={class:"space-y-4"},$r={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Tr=["value"],Er={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Sr={class:"space-y-4"},Dr={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ir={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Or={class:"flex flex-wrap gap-2 items-center"},zr=["onUpdate:modelValue"],Nr=["onClick"],Pr={class:"flex flex-wrap gap-2"},jr=["id","value"],Mr=["for"],Br={class:"flex justify-end space-x-3 pt-4 border-t"},Ar=["disabled"],Vr={key:0},Rr={key:1},Ur={__name:"createTankModal",emits:["close","tank-created"],setup(t,{emit:n}){const f=hr(),o=n,x=C([]),c=C([]),_=C(!1),b=Z({nombre:"",ubicación:{latitud:null,longitud:null,dirección:""},capacidad:null,tipo:"",material:"",sensores:[],estado:"activo",especies:[],zone_id:"",fecha_creación:new Date});F(async()=>{try{const d=await fetch("/api/get/zone");if(!d.ok)throw new Error("Error al cargar zonas");const s=await d.json();x.value=s.zones||[];const h=await fetch("/api/get/sensor");if(!h.ok)throw new Error("Error al cargar sensores");const u=await h.json();c.value=u.sensors||[]}catch(d){console.error("Error al cargar datos:",d),f.error("Error al cargar datos necesarios")}});const y=()=>{b.especies.push("")},l=d=>{b.especies.splice(d,1)},g=async()=>{try{_.value=!0,b.especies=b.especies.filter(h=>h.trim()!=="");const d=await fetch("/api/post/tank",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!d.ok){const h=await d.json();throw new Error(h.message||"Error al crear el estanque")}const s=await d.json();f.success("Estanque creado exitosamente"),o("tank-created",s)}catch(d){console.error("Error al crear estanque:",d),f.error(d.message||"Error al crear el estanque")}finally{_.value=!1}};return(d,s)=>{const h=B;return r(),a("div",kr,[e("div",_r,[e("div",wr,[s[12]||(s[12]=e("h2",{class:"text-xl font-bold text-gray-800 dark:text-gray-100"}," Crear Nuevo Estanque ",-1)),e("button",{onClick:s[0]||(s[0]=u=>d.$emit("close")),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},[m(h,{name:"mdi:close",size:"24"})])]),e("form",{onSubmit:q(g,["prevent"]),class:"space-y-4"},[e("div",Cr,[s[21]||(s[21]=e("h3",{class:"text-lg font-semibold text-gray-700 dark:text-gray-300 border-b pb-2"}," Información Básica ",-1)),e("div",$r,[e("div",null,[s[13]||(s[13]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Nombre del Estanque* ",-1)),T(e("input",{"onUpdate:modelValue":s[1]||(s[1]=u=>b.nombre=u),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"Ej: Estanque Principal"},null,512),[[E,b.nombre]])]),e("div",null,[s[15]||(s[15]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Zona* ",-1)),T(e("select",{"onUpdate:modelValue":s[2]||(s[2]=u=>b.zone_id=u),required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"},[s[14]||(s[14]=e("option",{value:"",disabled:"",selected:""},"Seleccionar zona",-1)),(r(!0),a(D,null,I(x.value,u=>(r(),a("option",{key:u._id,value:u._id},p(u.name),9,Tr))),128))],512),[[R,b.zone_id]])])]),e("div",Er,[e("div",null,[s[16]||(s[16]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Capacidad (litros)* ",-1)),T(e("input",{"onUpdate:modelValue":s[3]||(s[3]=u=>b.capacidad=u),type:"number",required:"",min:"0",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"Ej: 5000"},null,512),[[E,b.capacidad,void 0,{number:!0}]])]),e("div",null,[s[18]||(s[18]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Tipo* ",-1)),T(e("select",{"onUpdate:modelValue":s[4]||(s[4]=u=>b.tipo=u),required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"},s[17]||(s[17]=[e("option",{value:"",disabled:"",selected:""},"Seleccionar tipo",-1),e("option",{value:"circular"},"Circular",-1),e("option",{value:"rectangular"},"Rectangular",-1),e("option",{value:"irregular"},"Irregular",-1)]),512),[[R,b.tipo]])]),e("div",null,[s[20]||(s[20]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Material* ",-1)),T(e("select",{"onUpdate:modelValue":s[5]||(s[5]=u=>b.material=u),required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"},s[19]||(s[19]=[tt('<option value="" disabled selected>Seleccionar material</option><option value="fibra de vidrio">Fibra de vidrio</option><option value="concreto">Concreto</option><option value="plástico">Plástico</option><option value="acero">Acero</option>',5)]),512),[[R,b.material]])])])]),e("div",Sr,[s[25]||(s[25]=e("h3",{class:"text-lg font-semibold text-gray-700 dark:text-gray-300 border-b pb-2"}," Ubicación ",-1)),e("div",Dr,[e("div",null,[s[22]||(s[22]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Latitud* ",-1)),T(e("input",{"onUpdate:modelValue":s[6]||(s[6]=u=>b.ubicación.latitud=u),type:"number",required:"",step:"0.000001",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"Ej: -33.456789"},null,512),[[E,b.ubicación.latitud,void 0,{number:!0}]])]),e("div",null,[s[23]||(s[23]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Longitud* ",-1)),T(e("input",{"onUpdate:modelValue":s[7]||(s[7]=u=>b.ubicación.longitud=u),type:"number",required:"",step:"0.000001",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"Ej: -70.123456"},null,512),[[E,b.ubicación.longitud,void 0,{number:!0}]])])]),e("div",null,[s[24]||(s[24]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Dirección* ",-1)),T(e("input",{"onUpdate:modelValue":s[8]||(s[8]=u=>b.ubicación.dirección=u),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"Ej: Av. Principal 123, Ciudad"},null,512),[[E,b.ubicación.dirección]])])]),e("div",Ir,[e("div",null,[s[27]||(s[27]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Estado ",-1)),T(e("select",{"onUpdate:modelValue":s[9]||(s[9]=u=>b.estado=u),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white"},s[26]||(s[26]=[e("option",{value:"activo"},"Activo",-1),e("option",{value:"inactivo"},"Inactivo",-1),e("option",{value:"mantenimiento"},"Mantenimiento",-1)]),512),[[R,b.estado]])]),e("div",null,[s[29]||(s[29]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Especies ",-1)),e("div",Or,[(r(!0),a(D,null,I(b.especies,(u,i)=>(r(),a("div",{key:i,class:"flex items-center"},[T(e("input",{"onUpdate:modelValue":N=>b.especies[i]=N,type:"text",class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"Nombre de especie"},null,8,zr),[[E,b.especies[i]]]),e("button",{type:"button",onClick:N=>l(i),class:"ml-1 text-red-500 hover:text-red-700"},[m(h,{name:"mdi:close-circle"})],8,Nr)]))),128)),e("button",{type:"button",onClick:y,class:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 dark:bg-indigo-900 dark:text-indigo-300 dark:hover:bg-indigo-800"},[m(h,{name:"mdi:plus"}),s[28]||(s[28]=v(" Añadir "))])])])]),e("div",null,[s[30]||(s[30]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Sensores ",-1)),e("div",Pr,[(r(!0),a(D,null,I(c.value,u=>(r(),a("div",{key:u._id,class:"flex items-center"},[T(e("input",{type:"checkbox",id:u._id,value:u._id,"onUpdate:modelValue":s[10]||(s[10]=i=>b.sensores=i),class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,8,jr),[[st,b.sensores]]),e("label",{for:u._id,class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},p(u.nombre),9,Mr)]))),128))])]),e("div",Br,[e("button",{type:"button",onClick:s[11]||(s[11]=u=>d.$emit("close")),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Cancelar "),e("button",{type:"submit",disabled:_.value,class:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"},[_.value?(r(),a("span",Vr,[m(h,{name:"mdi:loading",class:"animate-spin"}),s[31]||(s[31]=v(" Guardando... "))])):(r(),a("span",Rr,"Crear Estanque"))],8,Ar)])],32)])])}}},Lr={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden flex flex-col h-full"},qr={class:"p-4 bg-gradient-to-r from-indigo-500 to-indigo-600 text-white"},Fr={class:"flex justify-between items-center"},Hr={class:"text-lg font-semibold flex items-center"},Zr={class:"bg-white text-indigo-600 text-sm font-medium px-2.5 py-0.5 rounded-full"},Gr={class:"flex-grow flex flex-col"},Xr={key:0,class:"p-6 flex justify-center"},Wr={key:1,class:"p-6 text-center text-red-500"},Jr={key:2,class:"p-6 text-center text-gray-500 dark:text-gray-400 flex-grow"},Kr={key:3,class:"divide-y divide-gray-200 dark:divide-gray-700 overflow-y-auto flex-grow"},Qr={class:"flex justify-between items-start"},Yr={class:"font-medium text-gray-900 dark:text-white"},eo={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},to={key:0,class:"text-xs text-gray-400 mt-1"},so={class:"flex items-center mt-2 text-xs text-gray-500 dark:text-gray-400 gap-3"},ro={class:"flex items-center"},oo={class:"flex items-center"},ao={class:"flex items-center"},no={class:"flex items-center"},io={key:0,class:"flex items-center"},lo={class:"flex space-x-1"},co=["onClick"],uo=["onClick"],mo={class:"p-3 bg-gray-50 dark:bg-gray-900 flex justify-end items-center h-14 mt-auto"},go={__name:"allBranches",emits:["create-branch"],setup(t,{emit:n}){const f=te(),o=C([]),x=C(!0),c=C(null);F(async()=>{await _()});const _=async()=>{x.value=!0,c.value=null;try{const l=await fetch("/api/get/branch");if(!l.ok)throw new Error("Error al cargar las sucursales");const g=await l.json();o.value=g.branches||[]}catch(l){console.error("Error fetching branches:",l),c.value="No se pudieron cargar las sucursales"}finally{x.value=!1}},b=l=>{f.push(`/settings/branches/${l}`)},y=l=>{f.push(`/settings/branches/${l}/edit`)};return(l,g)=>{const d=B;return r(),a("div",Lr,[e("div",qr,[e("div",Fr,[e("h3",Hr,[m(d,{name:"mdi:source-branch",class:"mr-2"}),g[1]||(g[1]=v(" Sucursales "))]),e("span",Zr,p(o.value.length),1)])]),e("div",Gr,[x.value?(r(),a("div",Xr,g[2]||(g[2]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"},null,-1)]))):c.value?(r(),a("div",Wr,[m(d,{name:"mdi:alert-circle",size:"32",class:"mx-auto mb-2"}),e("p",null,p(c.value),1)])):o.value.length===0?(r(),a("div",Jr,[m(d,{name:"mdi:source-branch-off",size:"32",class:"mx-auto mb-2"}),g[3]||(g[3]=e("p",null,"No hay sucursales registradas",-1))])):(r(),a("div",Kr,[(r(!0),a(D,null,I(o.value,s=>{var h;return r(),a("div",{key:s._id,class:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition duration-150"},[e("div",Qr,[e("div",null,[e("h4",Yr,p(s.name),1),e("p",eo,[m(d,{name:"mdi:map-marker",class:"inline-block mr-1"}),v(" "+p(s.location||"Sin dirección"),1)]),s.description?(r(),a("p",to,[m(d,{name:"mdi:note-text-outline",class:"inline-block mr-1"}),v(" "+p(s.description),1)])):k("",!0),e("div",so,[e("span",ro,[m(d,{name:s.isActive?"mdi:check-circle":"mdi:close-circle",class:z(["mr-1",s.isActive?"text-green-500":"text-red-500"])},null,8,["name","class"]),v(" "+p(s.isActive?"Activa":"Inactiva"),1)]),e("span",oo,[m(d,{name:"mdi:account-group",class:"mr-1"}),v(" "+p(((h=s.empleados)==null?void 0:h.length)||0)+" empleados ",1)]),e("span",ao,[m(d,{name:"mdi:calendar-plus",class:"mr-1"}),v(" "+p(new Date(s.createdAt).toLocaleDateString()),1)]),e("span",no,[m(d,{name:"mdi:calendar-edit",class:"mr-1"}),v(" "+p(new Date(s.updatedAt).toLocaleDateString()),1)]),s.telefono?(r(),a("span",io,[m(d,{name:"mdi:phone",class:"mr-1"}),v(" "+p(s.telefono),1)])):k("",!0)])]),e("div",lo,[e("button",{onClick:u=>b(s._id),class:"p-1 text-gray-500 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-500",title:"Ver detalles"},[m(d,{name:"mdi:eye"})],8,co),e("button",{onClick:u=>y(s._id),class:"p-1 text-gray-500 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-500",title:"Editar sucursal"},[m(d,{name:"mdi:pencil"})],8,uo)])])])}),128))]))]),e("div",mo,[e("button",{onClick:g[0]||(g[0]=s=>l.$emit("create-branch")),class:"text-sm text-indigo-600 hover:text-indigo-700 dark:text-indigo-500 dark:hover:text-indigo-400 font-medium"},[m(d,{name:"mdi:source-branch-plus",class:"inline-block mr-1"}),g[4]||(g[4]=v(" Crear nueva sucursal "))])])])}}},po={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden flex flex-col h-full"},fo={class:"p-4 bg-gradient-to-r from-amber-500 to-amber-600 text-white"},bo={class:"flex justify-between items-center"},yo={class:"text-lg font-semibold flex items-center"},vo={class:"bg-white text-amber-600 text-sm font-medium px-2.5 py-0.5 rounded-full"},xo={class:"flex-grow flex flex-col"},ho={key:0,class:"p-6 flex justify-center"},ko={key:1,class:"p-6 text-center text-red-500"},_o={key:2,class:"p-6 text-center text-gray-500 dark:text-gray-400 flex-grow"},wo={key:3,class:"divide-y divide-gray-200 dark:divide-gray-700 overflow-y-auto flex-grow"},Co={class:"flex justify-between items-start"},$o={class:"font-medium text-gray-900 dark:text-white"},To={key:0,class:"text-xs text-gray-400 mt-1"},Eo={key:1,class:"text-xs text-gray-400 mt-1"},So={class:"flex flex-wrap gap-3 mt-2 text-xs text-gray-500 dark:text-gray-400"},Do={key:0,class:"flex items-center"},Io={key:1,class:"flex items-center"},Oo={key:2,class:"flex items-center"},zo={key:3,class:"flex items-center"},No={class:"flex space-x-1"},Po=["onClick"],jo=["onClick"],Mo={class:"p-3 bg-gray-50 dark:bg-gray-900 flex justify-end items-center h-14 mt-auto"},Bo={__name:"allZone",emits:["create-zone"],setup(t,{emit:n}){const f=te(),o=C([]),x=C(!0),c=C(null);F(async()=>{await _()});const _=async()=>{x.value=!0,c.value=null;try{const l=await fetch("/api/get/zone");if(!l.ok)throw new Error("Error al cargar las zonas");const g=await l.json();o.value=g.zones||[]}catch(l){console.error("Error fetching zones:",l),c.value="No se pudieron cargar las zonas"}finally{x.value=!1}},b=l=>{f.push(`/settings/zones/${l}`)},y=l=>{f.push(`/settings/zones/${l}/edit`)};return(l,g)=>{const d=B;return r(),a("div",po,[e("div",fo,[e("div",bo,[e("h3",yo,[m(d,{name:"mdi:map-marker-multiple",class:"mr-2"}),g[1]||(g[1]=v(" Zonas "))]),e("span",vo,p(o.value.length),1)])]),e("div",xo,[x.value?(r(),a("div",ho,g[2]||(g[2]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-500"},null,-1)]))):c.value?(r(),a("div",ko,[m(d,{name:"mdi:alert-circle",size:"32",class:"mx-auto mb-2"}),e("p",null,p(c.value),1)])):o.value.length===0?(r(),a("div",_o,[m(d,{name:"mdi:map-marker-off",size:"32",class:"mx-auto mb-2"}),g[3]||(g[3]=e("p",null,"No hay zonas registradas",-1))])):(r(),a("div",wo,[(r(!0),a(D,null,I(o.value,s=>(r(),a("div",{key:s._id,class:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition duration-150"},[e("div",Co,[e("div",null,[e("h4",$o,p(s.name),1),s.zone_direction?(r(),a("p",To,[m(d,{name:"mdi:map-marker",class:"inline-block mr-1"}),v(" "+p(s.zone_direction),1)])):k("",!0),s.zone_description?(r(),a("p",Eo,[m(d,{name:"mdi:note-text-outline",class:"inline-block mr-1"}),v(" "+p(s.zone_description),1)])):k("",!0),e("div",So,[s.zone_manager?(r(),a("span",Do,[m(d,{name:"mdi:account-tie",class:"mr-1"}),v(" Encargado: "+p(s.zone_manager),1)])):k("",!0),s.branch_id?(r(),a("span",Io,[m(d,{name:"mdi:source-branch",class:"mr-1"}),v(" Sucursal: "+p(s.branch_id.name||s.branch_id),1)])):k("",!0),s.createdAt?(r(),a("span",Oo,[m(d,{name:"mdi:calendar",class:"mr-1"}),v(" Creado: "+p(new Date(s.createdAt).toLocaleDateString()),1)])):k("",!0),s.updatedAt?(r(),a("span",zo,[m(d,{name:"mdi:calendar-edit",class:"mr-1"}),v(" Modificado: "+p(new Date(s.updatedAt).toLocaleDateString()),1)])):k("",!0)])]),e("div",No,[e("button",{onClick:h=>b(s._id),class:"p-1 text-gray-500 hover:text-amber-600 dark:text-gray-400 dark:hover:text-amber-500",title:"Ver detalles"},[m(d,{name:"mdi:eye"})],8,Po),e("button",{onClick:h=>y(s._id),class:"p-1 text-gray-500 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-500",title:"Editar zona"},[m(d,{name:"mdi:pencil"})],8,jo)])])]))),128))]))]),e("div",Mo,[e("button",{onClick:g[0]||(g[0]=s=>l.$emit("create-zone")),class:"text-sm text-amber-600 hover:text-amber-700 dark:text-amber-500 dark:hover:text-amber-400 font-medium"},[m(d,{name:"mdi:plus",class:"inline-block mr-1"}),g[4]||(g[4]=v(" Crear nueva zona "))])])])}}},Ao={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden flex flex-col h-full"},Vo={class:"p-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white"},Ro={class:"flex justify-between items-center"},Uo={class:"text-lg font-semibold flex items-center"},Lo={class:"bg-white text-blue-600 text-sm font-medium px-2.5 py-0.5 rounded-full"},qo={class:"flex-grow flex flex-col"},Fo={key:0,class:"p-6 flex justify-center"},Ho={key:1,class:"p-6 text-center text-red-500"},Zo={key:2,class:"p-6 text-center text-gray-500 dark:text-gray-400 flex-grow"},Go={key:3,class:"divide-y divide-gray-200 dark:divide-gray-700 overflow-y-auto flex-grow"},Xo={class:"flex justify-between items-start"},Wo={class:"flex items-center"},Jo={class:"font-medium text-gray-900 dark:text-white"},Ko={class:"text-xs text-gray-400 mt-1"},Qo={key:0},Yo={class:"grid grid-cols-2 gap-2 mt-2 text-xs text-gray-500 dark:text-gray-400"},ea={class:"flex items-center"},ta={class:"flex items-center"},sa={class:"flex items-center"},ra={key:0,class:"flex items-center"},oa={key:1,class:"flex items-center"},aa={key:2,class:"flex items-center"},na={key:3,class:"flex items-center"},ia={key:0},la={key:1},da={key:4,class:"flex items-center"},ca={key:5,class:"flex items-center"},ua={key:6,class:"flex items-center"},ma={key:7,class:"flex items-center"},ga={key:8,class:"flex items-center"},pa={key:9,class:"flex items-center"},fa={class:"flex space-x-1"},ba=["onClick"],ya=["onClick"],va={class:"p-3 bg-gray-50 dark:bg-gray-900 flex justify-end items-center h-14 mt-auto"},xa={__name:"allTanks",emits:["create-tank"],setup(t,{emit:n}){const f=te(),o=C([]),x=C(!0),c=C(null);F(async()=>{await _()});const _=async()=>{x.value=!0,c.value=null;try{const l=await fetch("/api/get/tank");if(!l.ok)throw new Error("Error al cargar los estanques");const g=await l.json();o.value=g.tanks||[]}catch(l){console.error("Error fetching tanks:",l),c.value="No se pudieron cargar los estanques"}finally{x.value=!1}},b=l=>{f.push(`/settings/tanks/${l}`)},y=l=>{f.push(`/settings/tanks/${l}/edit`)};return(l,g)=>{const d=B;return r(),a("div",Ao,[e("div",Vo,[e("div",Ro,[e("h3",Uo,[m(d,{name:"mdi:fish",class:"mr-2"}),g[1]||(g[1]=v(" Estanques "))]),e("span",Lo,p(o.value.length),1)])]),e("div",qo,[x.value?(r(),a("div",Fo,g[2]||(g[2]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"},null,-1)]))):c.value?(r(),a("div",Ho,[m(d,{name:"mdi:alert-circle",size:"32",class:"mx-auto mb-2"}),e("p",null,p(c.value),1)])):o.value.length===0?(r(),a("div",Zo,[m(d,{name:"mdi:fish-off",size:"32",class:"mx-auto mb-2"}),g[3]||(g[3]=e("p",null,"No hay estanques registrados",-1))])):(r(),a("div",Go,[(r(!0),a(D,null,I(o.value,s=>{var h,u,i;return r(),a("div",{key:s._id,class:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition duration-150"},[e("div",Xo,[e("div",null,[e("div",Wo,[e("h4",Jo,p(s.nombre),1),e("span",{class:z([{"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":s.estado==="activo","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":s.estado==="inactivo","bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300":s.estado==="mantenimiento"},"text-xs font-medium ml-2 px-2.5 py-0.5 rounded-full"])},p(s.estado),3)]),e("p",Ko,[m(d,{name:"mdi:map-marker",class:"inline-block mr-1"}),v(" "+p(((h=s.ubicación)==null?void 0:h.dirección)||"Sin dirección")+" ",1),(u=s.ubicación)!=null&&u.latitud&&((i=s.ubicación)!=null&&i.longitud)?(r(),a("span",Qo," ("+p(s.ubicación.latitud)+", "+p(s.ubicación.longitud)+") ",1)):k("",!0)]),e("div",Yo,[e("span",ea,[m(d,{name:"mdi:water",class:"mr-1"}),v(" "+p(s.capacidad)+" litros ",1)]),e("span",ta,[m(d,{name:"mdi:shape",class:"mr-1"}),v(" "+p(s.tipo),1)]),e("span",sa,[m(d,{name:"mdi:material-design",class:"mr-1"}),v(" "+p(s.material),1)]),s.sensores&&s.sensores.length?(r(),a("span",ra,[m(d,{name:"mdi:chip",class:"mr-1"}),v(" Sensores: "+p(s.sensores.join(", ")),1)])):k("",!0),s.especies&&s.especies.length?(r(),a("span",oa,[m(d,{name:"mdi:fish",class:"mr-1"}),v(" Especies: "+p(s.especies.join(", ")),1)])):k("",!0),s.población?(r(),a("span",aa,[m(d,{name:"mdi:counter",class:"mr-1"}),v(" "+p(s.población.total_peces)+" peces / "+p(s.población.biomasa_kg)+" kg ",1)])):k("",!0),s.condiciones?(r(),a("span",na,[m(d,{name:"mdi:thermometer",class:"mr-1"}),v(" "+p(s.condiciones.temperatura_c)+" °C ",1),s.condiciones.ph?(r(),a("span",ia,"/ pH: "+p(s.condiciones.ph),1)):k("",!0),s.condiciones.oxígeno?(r(),a("span",la,"/ O₂: "+p(s.condiciones.oxígeno)+" mg/L",1)):k("",!0)])):k("",!0),s.fecha_creación?(r(),a("span",da,[m(d,{name:"mdi:calendar-plus",class:"mr-1"}),v(" "+p(new Date(s.fecha_creación).toLocaleDateString()),1)])):k("",!0),s.última_inspección?(r(),a("span",ca,[m(d,{name:"mdi:calendar-check",class:"mr-1"}),v(" Últ. inspección: "+p(new Date(s.última_inspección).toLocaleDateString()),1)])):k("",!0),s.createdAt?(r(),a("span",ua,[m(d,{name:"mdi:calendar",class:"mr-1"}),v(" Creado: "+p(new Date(s.createdAt).toLocaleDateString()),1)])):k("",!0),s.updatedAt?(r(),a("span",ma,[m(d,{name:"mdi:calendar-edit",class:"mr-1"}),v(" Modificado: "+p(new Date(s.updatedAt).toLocaleDateString()),1)])):k("",!0),s.branch_id?(r(),a("span",ga,[m(d,{name:"mdi:source-branch",class:"mr-1"}),v(" Sucursal: "+p(s.branch_id.name||s.branch_id),1)])):k("",!0),s.zone_id?(r(),a("span",pa,[m(d,{name:"mdi:map",class:"mr-1"}),v(" Zona: "+p(s.zone_id.name||s.zone_id),1)])):k("",!0)])]),e("div",fa,[e("button",{onClick:N=>b(s._id),class:"p-1 text-gray-500 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-500",title:"Ver detalles"},[m(d,{name:"mdi:eye"})],8,ba),e("button",{onClick:N=>y(s._id),class:"p-1 text-gray-500 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-500",title:"Editar estanque"},[m(d,{name:"mdi:pencil"})],8,ya)])])])}),128))]))]),e("div",va,[e("button",{onClick:g[0]||(g[0]=s=>l.$emit("create-tank")),class:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-500 dark:hover:text-blue-400 font-medium"},[m(d,{name:"mdi:plus",class:"inline-block mr-1"}),g[4]||(g[4]=v(" Crear nuevo estanque "))])])])}}},ha={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden flex flex-col h-full"},ka={class:"p-4 bg-gradient-to-r from-purple-500 to-purple-600 text-white"},_a={class:"flex justify-between items-center"},wa={class:"text-lg font-semibold flex items-center"},Ca={class:"bg-white text-purple-600 text-sm font-medium px-2.5 py-0.5 rounded-full"},$a={class:"flex-grow flex flex-col"},Ta={key:0,class:"p-6 flex justify-center"},Ea={key:1,class:"p-6 text-center text-red-500"},Sa={key:2,class:"p-6 text-center text-gray-500 dark:text-gray-400 flex-grow"},Da={key:3,class:"divide-y divide-gray-200 dark:divide-gray-700 overflow-y-auto flex-grow"},Ia={class:"flex justify-between items-start"},Oa={class:"flex items-start"},za={class:"h-10 w-10 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center text-purple-600 dark:text-purple-300 mr-3"},Na={key:0,class:"sr-only"},Pa=["src","alt"],ja={key:2},Ma={class:"font-medium text-gray-900 dark:text-white"},Ba={class:"text-sm text-gray-500 dark:text-gray-400"},Aa={key:0,class:"text-xs text-gray-400 mt-1"},Va={class:"flex items-center mt-1 flex-wrap gap-2"},Ra={key:1,class:"flex items-center"},Ua={key:2,class:"flex items-center"},La={key:3,class:"flex items-center"},qa={class:"flex space-x-1"},Fa=["onClick"],Ha=["onClick"],Za={class:"p-3 bg-gray-50 dark:bg-gray-900 flex justify-end items-center h-14 mt-auto"},Ga={__name:"allUsers",emits:["create-user"],setup(t,{emit:n}){const f=te(),o=C([]),x=C(!0),c=C(null);F(async()=>{await _()});const _=async()=>{x.value=!0,c.value=null;try{const g=await fetch("/api/get/user");if(!g.ok)throw new Error("Error al cargar los usuarios");const d=await g.json();o.value=d.users||[]}catch(g){console.error("Error fetching users:",g),c.value="No se pudieron cargar los usuarios"}finally{x.value=!1}},b=g=>{if(!g||!g.nombre&&!g.apellido)return"?";const d=g.nombre||"",s=g.apellido||"";return(d.charAt(0)+(s.charAt(0)||"")).toUpperCase()},y=g=>{f.push(`/settings/users/${g}`)},l=g=>{f.push(`/settings/users/${g}/edit`)};return(g,d)=>{const s=B;return r(),a("div",ha,[e("div",ka,[e("div",_a,[e("h3",wa,[m(s,{name:"mdi:account-group",class:"mr-2"}),d[1]||(d[1]=v(" Usuarios "))]),e("span",Ca,p(o.value.length),1)])]),e("div",$a,[x.value?(r(),a("div",Ta,d[2]||(d[2]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"},null,-1)]))):c.value?(r(),a("div",Ea,[m(s,{name:"mdi:alert-circle",size:"32",class:"mx-auto mb-2"}),e("p",null,p(c.value),1)])):o.value.length===0?(r(),a("div",Sa,[m(s,{name:"mdi:account-off",size:"32",class:"mx-auto mb-2"}),d[3]||(d[3]=e("p",null,"No hay usuarios registrados",-1))])):(r(),a("div",Da,[(r(!0),a(D,null,I(o.value,h=>(r(),a("div",{key:h._id,class:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition duration-150"},[e("div",Ia,[e("div",Oa,[e("div",za,[h.avatar?(r(),a("span",Na,p(h.nombre),1)):k("",!0),h.avatar?(r(),a("img",{key:1,src:h.avatar,alt:h.nombre,class:"h-10 w-10 rounded-full object-cover"},null,8,Pa)):(r(),a("span",ja,p(b(h)),1))]),e("div",null,[e("h4",Ma,p(h.name),1),e("p",Ba,p(h.email),1),h.user_description?(r(),a("p",Aa,[m(s,{name:"mdi:note-text-outline",class:"inline-block mr-1"}),v(" "+p(h.user_description),1)])):k("",!0),e("div",Va,[e("span",{class:z([{"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":h.role==="administrador","bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":h.role==="supervisor"},"text-xs font-medium px-2.5 py-0.5 rounded-full"])},p(h.role),3),h.isActive!==void 0?(r(),a("span",{key:0,class:z([{"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":h.isActive,"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":!h.isActive},"text-xs font-medium ml-2 px-2.5 py-0.5 rounded-full"])},p(h.isActive?"Activo":"Inactivo"),3)):k("",!0),h.lastLogin?(r(),a("span",Ra,[m(s,{name:"mdi:clock-outline",class:"mr-1"}),v(" Último acceso: "+p(new Date(h.lastLogin).toLocaleString()),1)])):k("",!0),h.createdAt?(r(),a("span",Ua,[m(s,{name:"mdi:calendar",class:"mr-1"}),v(" Creado: "+p(new Date(h.createdAt).toLocaleDateString()),1)])):k("",!0),h.updatedAt?(r(),a("span",La,[m(s,{name:"mdi:calendar-edit",class:"mr-1"}),v(" Modificado: "+p(new Date(h.updatedAt).toLocaleDateString()),1)])):k("",!0)])])]),e("div",qa,[e("button",{onClick:u=>y(h._id),class:"p-1 text-gray-500 hover:text-purple-600 dark:text-gray-400 dark:hover:text-purple-500",title:"Ver detalles"},[m(s,{name:"mdi:eye"})],8,Fa),e("button",{onClick:u=>l(h._id),class:"p-1 text-gray-500 hover:text-purple-600 dark:text-gray-400 dark:hover:text-purple-500",title:"Editar usuario"},[m(s,{name:"mdi:pencil"})],8,Ha)])])]))),128))]))]),e("div",Za,[e("button",{onClick:d[0]||(d[0]=h=>g.$emit("create-user")),class:"text-sm text-purple-600 hover:text-purple-700 dark:text-purple-500 dark:hover:text-purple-400 font-medium"},[m(s,{name:"mdi:account-plus",class:"inline-block mr-1"}),d[4]||(d[4]=v(" Crear nuevo usuario "))])])])}}},Xa={class:"container mx-auto p-4"},Wa={class:"mb-8"},Ja={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 mb-4"},Ka={class:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200 flex items-center"},Qa={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3"},Ya={class:"w-12 h-12 rounded-full bg-indigo-100 dark:bg-indigo-900/50 flex items-center justify-center mb-2 group-hover:bg-indigo-200 dark:group-hover:bg-indigo-800/50 transition-colors"},en={class:"w-12 h-12 rounded-full bg-amber-100 dark:bg-amber-900/50 flex items-center justify-center mb-2 group-hover:bg-amber-200 dark:group-hover:bg-amber-800/50 transition-colors"},tn={class:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center mb-2 group-hover:bg-blue-200 dark:group-hover:bg-blue-800/50 transition-colors"},sn={class:"w-12 h-12 rounded-full bg-purple-100 dark:bg-purple-900/50 flex items-center justify-center mb-2 group-hover:bg-purple-200 dark:group-hover:bg-purple-800/50 transition-colors"},rn={class:"w-12 h-12 rounded-full bg-lime-100 dark:bg-lime-900/50 flex items-center justify-center mb-2 group-hover:bg-lime-200 dark:group-hover:bg-lime-800/50 transition-colors"},on={class:"w-12 h-12 rounded-full bg-sky-100 dark:bg-sky-900/50 flex items-center justify-center mb-2 group-hover:bg-sky-200 dark:group-hover:bg-sky-800/50 transition-colors"},an={class:"w-12 h-12 rounded-full bg-teal-100 dark:bg-teal-900/50 flex items-center justify-center mb-2 group-hover:bg-teal-200 dark:group-hover:bg-teal-800/50 transition-colors"},nn={class:"mb-6 flex flex-wrap gap-2"},ln={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 auto-rows-fr"},dn={__name:"control-panel",setup(t){const n=C("all"),f=C(!1),o=C(!1),x=C(!1),c=C(!1),_=C(!1),b=C(!1),y=C(!1);C(!1);const l=()=>{f.value=!0},g=()=>{f.value=!1},d=O=>{console.log("Sucursal creada:",O),g()},s=()=>{o.value=!0},h=()=>{o.value=!1},u=O=>{console.log("Tipo de Cámara creado:",O),h()},i=()=>{x.value=!0},N=()=>{x.value=!1},w=O=>{console.log("Tipo de Sensor creado:",O),N()},de=()=>{c.value=!0},ce=()=>{c.value=!1},Ve=O=>{console.log("Zona creada:",O),ce()},Re=()=>{_.value=!0},ue=()=>{_.value=!1},Ue=O=>{console.log("Cámara registrada:",O),ue()},Le=()=>{b.value=!0},me=()=>{b.value=!1},qe=O=>{console.log("Sensor registrado:",O),me()},ge=()=>{y.value=!0},pe=()=>{y.value=!1},Fe=O=>{console.log("Estanque creado:",O),pe()},He=()=>{console.log("Abrir modal de creación de usuario")};return(O,$)=>{const P=B;return r(),a(D,null,[e("div",Xa,[$[18]||($[18]=e("h1",{class:"text-2xl font-bold mb-4 text-gray-800 dark:text-gray-100"}," Panel de Control ",-1)),$[19]||($[19]=e("p",{class:"mb-6 text-gray-600 dark:text-gray-400"}," En este panel puedes gestionar las entidades principales de la aplicación. ",-1)),e("section",Wa,[e("div",Ja,[e("h2",Ka,[m(P,{name:"mdi:lightning-bolt",class:"mr-2 text-yellow-500"}),$[5]||($[5]=v(" Accesos Directos "))]),e("div",Qa,[e("button",{onClick:l,class:"flex flex-col items-center justify-center p-4 bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/30 dark:to-indigo-800/30 rounded-lg hover:shadow-md transition duration-150 ease-in-out group"},[e("div",Ya,[m(P,{name:"mdi:source-branch-plus",class:"text-indigo-600 dark:text-indigo-400 text-2xl"})]),$[6]||($[6]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-indigo-700 dark:group-hover:text-indigo-300 transition-colors"},"Sucursal",-1))]),e("button",{onClick:de,class:"flex flex-col items-center justify-center p-4 bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/30 dark:to-amber-800/30 rounded-lg hover:shadow-md transition duration-150 ease-in-out group"},[e("div",en,[m(P,{name:"mdi:map-marker-plus-outline",class:"text-amber-600 dark:text-amber-400 text-2xl"})]),$[7]||($[7]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-amber-700 dark:group-hover:text-amber-300 transition-colors"},"Zona",-1))]),e("button",{onClick:ge,class:"flex flex-col items-center justify-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 rounded-lg hover:shadow-md transition duration-150 ease-in-out group"},[e("div",tn,[m(P,{name:"mdi:fish",class:"text-blue-600 dark:text-blue-400 text-2xl"})]),$[8]||($[8]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors"},"Estanque",-1))]),e("button",{onClick:Re,class:"flex flex-col items-center justify-center p-4 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/30 dark:to-purple-800/30 rounded-lg hover:shadow-md transition duration-150 ease-in-out group"},[e("div",sn,[m(P,{name:"mdi:cctv",class:"text-purple-600 dark:text-purple-400 text-2xl"})]),$[9]||($[9]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-purple-700 dark:group-hover:text-purple-300 transition-colors"},"Cámara",-1))]),e("button",{onClick:Le,class:"flex flex-col items-center justify-center p-4 bg-gradient-to-br from-lime-50 to-lime-100 dark:from-lime-900/30 dark:to-lime-800/30 rounded-lg hover:shadow-md transition duration-150 ease-in-out group"},[e("div",rn,[m(P,{name:"mdi:resistor-nodes",class:"text-lime-600 dark:text-lime-400 text-2xl"})]),$[10]||($[10]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-lime-700 dark:group-hover:text-lime-300 transition-colors"},"Sensor",-1))]),e("button",{onClick:s,class:"flex flex-col items-center justify-center p-4 bg-gradient-to-br from-sky-50 to-sky-100 dark:from-sky-900/30 dark:to-sky-800/30 rounded-lg hover:shadow-md transition duration-150 ease-in-out group"},[e("div",on,[m(P,{name:"mdi:camera-plus-outline",class:"text-sky-600 dark:text-sky-400 text-2xl"})]),$[11]||($[11]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-sky-700 dark:group-hover:text-sky-300 transition-colors"},"Tipo Cámara",-1))]),e("button",{onClick:i,class:"flex flex-col items-center justify-center p-4 bg-gradient-to-br from-teal-50 to-teal-100 dark:from-teal-900/30 dark:to-teal-800/30 rounded-lg hover:shadow-md transition duration-150 ease-in-out group"},[e("div",an,[m(P,{name:"mdi:leak",class:"text-teal-600 dark:text-teal-400 text-2xl"})]),$[12]||($[12]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-teal-700 dark:group-hover:text-teal-300 transition-colors"},"Tipo Sensor",-1))])])])]),e("div",nn,[e("button",{onClick:$[0]||($[0]=K=>n.value="all"),class:z([{"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200":n.value==="all","bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700":n.value!=="all"},"px-4 py-2 rounded-md text-sm font-medium transition-colors"])},[m(P,{name:"mdi:view-dashboard",class:"mr-1"}),$[13]||($[13]=v(" Todos "))],2),e("button",{onClick:$[1]||($[1]=K=>n.value="branches"),class:z([{"bg-indigo-100 dark:bg-indigo-900/50 text-indigo-800 dark:text-indigo-200":n.value==="branches","bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700":n.value!=="branches"},"px-4 py-2 rounded-md text-sm font-medium transition-colors"])},[m(P,{name:"mdi:source-branch",class:"mr-1"}),$[14]||($[14]=v(" Sucursales "))],2),e("button",{onClick:$[2]||($[2]=K=>n.value="zones"),class:z([{"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-200":n.value==="zones","bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700":n.value!=="zones"},"px-4 py-2 rounded-md text-sm font-medium transition-colors"])},[m(P,{name:"mdi:map-marker-multiple",class:"mr-1"}),$[15]||($[15]=v(" Zonas "))],2),e("button",{onClick:$[3]||($[3]=K=>n.value="tanks"),class:z([{"bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-200":n.value==="tanks","bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700":n.value!=="tanks"},"px-4 py-2 rounded-md text-sm font-medium transition-colors"])},[m(P,{name:"mdi:fish",class:"mr-1"}),$[16]||($[16]=v(" Estanques "))],2),e("button",{onClick:$[4]||($[4]=K=>n.value="users"),class:z([{"bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-200":n.value==="users","bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700":n.value!=="users"},"px-4 py-2 rounded-md text-sm font-medium transition-colors"])},[m(P,{name:"mdi:account-group",class:"mr-1"}),$[17]||($[17]=v(" Usuarios "))],2)]),e("div",ln,[n.value==="all"||n.value==="branches"?(r(),S(go,{key:0,onCreateBranch:l})):k("",!0),n.value==="all"||n.value==="zones"?(r(),S(Bo,{key:1,onCreateZone:de})):k("",!0),n.value==="all"||n.value==="tanks"?(r(),S(xa,{key:2,onCreateTank:ge})):k("",!0),n.value==="all"||n.value==="users"?(r(),S(Ga,{key:3,onCreateUser:He})):k("",!0)])]),f.value?(r(),S(gt,{key:0,onClose:g,onBranchCreated:d})):k("",!0),o.value?(r(),S(wt,{key:1,onClose:h,onCameraTypeCreated:u})):k("",!0),x.value?(r(),S(Nt,{key:2,onClose:N,onSensorTypeCreated:w})):k("",!0),c.value?(r(),S(Gt,{key:3,onClose:ce,onZoneCreated:Ve})):k("",!0),_.value?(r(),S(is,{key:4,onClose:ue,onCameraCreated:Ue})):k("",!0),b.value?(r(),S(ks,{key:5,onClose:me,onSensorCreated:qe})):k("",!0),y.value?(r(),S(Ur,{key:6,onClose:pe,onTankCreated:Fe})):k("",!0)],64)}}},mn=ke(dn,[["__scopeId","data-v-0a39439c"]]);export{mn as default};
